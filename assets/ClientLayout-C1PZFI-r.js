import{d as T,c as v,a,b as i,t as B,u as l,e as U,o as n,r as p,f as Q,g as X,h as Z,i as c,j as ee,F as D,k as o,l as q,m as S,w as u,n as le,p as y,q as ae}from"./index-FNYiYj23.js";import{h as L}from"./moment-C5S46NFB.js";import{s as x}from"./index-CgZR8Z9p.js";import{s as Y}from"./index-0dxwNC3q.js";import{s as z}from"./index-DaT9cevI.js";import{d as te}from"./jwt-DHQMwwia.js";import{s as f}from"./index-BJRVNJmk.js";import{s as d}from"./index-UpDb92C9.js";import{u as oe}from"./auth-CixS9ImF.js";import{u as ne}from"./http-BRCjI2Y9.js";import{U as se}from"./UserProfile-D7NUExCm.js";import"./index-CohO-flV.js";import"./index-mgTHiFYv.js";import"./index-t--hEgTQ.js";import"./index-C8lhhIYf.js";import"./emitter-Bv1pCJs6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ie={class:"footer"},re={class:"footer-content"},ue={style:{padding:"5px",margin:"0"}},de=T({__name:"ClientFooter",setup(A){return(C,h)=>(n(),v("div",ie,[a("div",re,[a("p",ue,[i("Copyright © "+B(l(L)().format("YYYY")=="2025"?`${l(L)().format("YYYY")}`:`2025 - ${l(L)().format("YYYY")}`)+" ",1),a("b",null,B(l(U).appName),1),h[0]||(h[0]=i(" all rights reserved."))])])]))}}),me={class:"nav-content"},pe={style:{display:"flex","flex-flow":"row wrap"}},ve={class:"nav-links"},ye={key:0},fe={key:0,style:{display:"flex","flex-flow":"row nowrap"}},ge={key:1},ke={class:"card flex justify-center"},be={key:0,style:{"font-size":"13px"}},we={for:"email"},Ve={key:0},xe={for:"password"},he={key:0},qe={style:{display:"flex","flex-flow":"row nowrap",gap:"0.3rem"}},Ce={for:"email"},Ue={key:0},Be={for:"password"},Ne={key:0},$e={style:{display:"flex","flex-flow":"row nowrap",gap:"0.3rem"}},je={style:{padding:"0",margin:"0","margin-bottom":"1rem"}},Ge={class:"flex justify-end gap-2"},Le=T({__name:"ClientNav",setup(A){const C=p(!0),h=localStorage.getItem("authToken"),N=p(h?te(h):null),$=p({title:"",content:""}),k=Q(),g=p(!1),R=oe(),K=ae(),s=Z(),H=X(()=>!!s.query.register),r=p(""),m=p(""),b=p("+628"),w=p(""),V=p(""),G=()=>{C.value=window.scrollY===0},M=()=>{g.value=!1,K.push("/privacy")},P=async()=>{if(r.value===""||m.value===""||b.value===""||w.value===""){k.add({severity:"error",summary:"Kesalahan",detail:"Mohon lengkapi data sebelum melanjutkan",life:3e3});return}if(b.value.length<13){k.add({severity:"error",summary:"Kesalahan",detail:"Nomor HP tidak valid",life:3e3});return}if(m.value.length<5){k.add({severity:"error",summary:"Kesalahan",detail:"E-Mail tidak valid",life:3e3});return}if(r.value.length<3){k.add({severity:"error",summary:"Kesalahan",detail:"Nama tidak valid",life:3e3});return}if(V.value.length<8){k.add({severity:"error",summary:"Kesalahan",detail:"Sandi tidak valid",life:3e3});return}if(w.value.length<10){k.add({severity:"error",summary:"Kesalahan",detail:"Tanggal Lahir tidak valid",life:3e3});return}const _={name:r.value,email:m.value,phone:b.value,dob:w.value,password:V.value,google_signin:H.value};await ne().httpPost("/auth/register",_).then(e=>{k.add({severity:"success",summary:"Berhasil",detail:"Akun berhasil didaftarkan!",life:3e3}),g.value=!1}).catch(e=>{k.add({severity:"error",summary:"Gagal",detail:e.response.data.message,life:3e3})})};p(!1);const j=p(!1);c(()=>{s.query.register&&(g.value=!0,r.value=s.query.name,m.value=s.query.email),s.query.linked==="false"&&($.value.title="Gagal Login",$.value.content=`Akun Google kamu belum terhubung ke ${U.appName}. Masuk ke akun, dan hubungkan akun Google kamu ke ${U.appName} untuk mengaktifkan "Masuk dengan Google"`,j.value=!0),window.addEventListener("scroll",G),G()}),ee(()=>{window.removeEventListener("scroll",G)});const E=()=>{g.value=!1,r.value="",m.value="",b.value="+628",w.value="",V.value="",K.push("/auth/login")},F=()=>{window.location.href=U.baseEnd+"/auth/google"},I=()=>{window.location.href="/auth/login"},W=()=>{window.location.href="/assessment"};return(_,e)=>{const J=S("router-link"),O=S("fasicon");return n(),v(D,null,[a("div",{class:le(["nav",{"at-top":C.value,scrolled:!C.value}])},[a("div",me,[a("div",pe,[e[21]||(e[21]=a("div",{class:"logo",style:{display:"flex","flex-flow":"row nowrap","align-items":"center"}},[a("img",{src:"https://evalground.com/img/icons-img/adaptive-test.svg",alt:"Logo",style:{width:"45px"}})],-1)),a("ul",ve,[a("li",null,[o(J,{to:"/"},{default:u(()=>e[19]||(e[19]=[i("Beranda")])),_:1})]),N.value&&N.value.role==="user"?(n(),v("li",ye,[a("a",{href:"javascript:;",onClick:W},[o(O,{icon:"book-open"}),e[20]||(e[20]=i("   Asesmen"))])])):q("",!0)])]),l(R).getToken?(n(),v("div",ge,[o(se)])):(n(),v("div",fe,[o(l(x),{onClick:I,label:"Masuk",icon:"pi pi-sign-in",class:"p-button-outlined",style:{"margin-left":"20px"}})]))])],2),a("template",null,[a("div",ke,[o(l(x),{label:"Show",onClick:e[0]||(e[0]=t=>g.value=!0)}),l(s).query.register=="true"&&l(s).query.local=="false"?(n(),y(l(Y),{key:0,draggable:!1,closable:!1,maximizable:!0,visible:g.value,"onUpdate:visible":e[8]||(e[8]=t=>g.value=t),modal:"",header:"Buat Akun",style:{width:"30rem"}},{default:u(()=>[l(s).query.register?(n(),v("p",be,[e[22]||(e[22]=a("i",{style:{"font-size":"16px"},class:"pi pi-google"},null,-1)),e[23]||(e[23]=i(" Google Sign-In")),e[24]||(e[24]=a("br",null,null,-1)),e[25]||(e[25]=a("br",null,null,-1)),i(" Halo, "+B(r.value.split(" ")[0])+"! Ayo daftarin akun Google kamu ke ",1),a("b",null,B(l(U).appName),1),e[26]||(e[26]=i(" biar bisa login tanpa sandi "))])):q("",!0),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[l(s).query.register?(n(),y(l(d),{key:0,disabled:"",style:{width:"100%"},name:"name",id:"name",variant:"filled",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),type:"text"},null,8,["modelValue"])):(n(),y(l(d),{key:1,style:{width:"100%"},id:"name",name:"name",variant:"filled",modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=t=>r.value=t),type:"text"},null,8,["modelValue"])),e[27]||(e[27]=a("label",{for:"name"},"Nama Lengkap",-1))]),_:1}),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[l(s).query.register?(n(),y(l(d),{key:0,disabled:"",style:{width:"100%"},name:"email",id:"email",variant:"filled",modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t),type:"text"},null,8,["modelValue"])):(n(),y(l(d),{key:1,style:{width:"100%"},id:"email",name:"email",variant:"filled",modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=t=>m.value=t),type:"text"},null,8,["modelValue"])),a("label",we,[e[28]||(e[28]=i("E-Mail ")),l(s).query.register?(n(),v("span",Ve,"(Google)")):q("",!0)])]),_:1}),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[o(l(d),{style:{width:"100%"},id:"password",min:"8",variant:"filled",modelValue:V.value,"onUpdate:modelValue":e[5]||(e[5]=t=>V.value=t),type:"password"},null,8,["modelValue"]),a("label",xe,[e[29]||(e[29]=i("Sandi Baru ")),l(s).query.register?(n(),v("span",he,"(Bukan sandi Google ya)")):q("",!0)])]),_:1}),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[o(l(d),{style:{width:"100%"},id:"phone",name:"phone",modelValue:b.value,"onUpdate:modelValue":e[6]||(e[6]=t=>b.value=t),variant:"filled",type:"text"},null,8,["modelValue"]),e[30]||(e[30]=a("label",{for:"username"},"No. HP",-1))]),_:1}),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[o(l(d),{style:{width:"100%"},id:"dob",modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=t=>w.value=t),name:"birth",variant:"filled",type:"date"},null,8,["modelValue"]),e[31]||(e[31]=a("label",{for:"dob"},"Tanggal Lahir",-1))]),_:1}),a("p",{style:{"font-size":"13px"}},[e[32]||(e[32]=i("Dengan mendaftar, Kamu menyetujui ")),a("b",null,[a("a",{style:{color:"orange","text-decoration":"none"},onClick:M,href:"javascript:;"},"Kebijakan Privasi")]),e[33]||(e[33]=i(" kami"))]),o(l(z)),a("div",qe,[o(l(x),{type:"button",label:"Lanjutkan!",onClick:P}),o(l(x),{type:"button",label:"Batal",severity:"secondary",onClick:E})])]),_:1},8,["visible"])):(n(),y(l(Y),{key:1,draggable:!1,closable:!1,maximizable:!0,visible:g.value,"onUpdate:visible":e[16]||(e[16]=t=>g.value=t),modal:"",header:"Buat Akun",style:{width:"30rem"}},{default:u(()=>[o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[l(s).query.register=="true"&&l(s).query.local=="false"?(n(),y(l(d),{key:0,disabled:"",style:{width:"100%"},name:"name",id:"name",variant:"filled",modelValue:r.value,"onUpdate:modelValue":e[9]||(e[9]=t=>r.value=t),type:"text"},null,8,["modelValue"])):(n(),y(l(d),{key:1,style:{width:"100%"},id:"name",name:"name",variant:"filled",modelValue:r.value,"onUpdate:modelValue":e[10]||(e[10]=t=>r.value=t),type:"text"},null,8,["modelValue"])),e[34]||(e[34]=a("label",{for:"name"},"Nama Lengkap",-1))]),_:1}),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[l(s).query.register=="true"&&l(s).query.local=="false"?(n(),y(l(d),{key:0,disabled:"",style:{width:"100%"},name:"email",id:"email",variant:"filled",modelValue:m.value,"onUpdate:modelValue":e[11]||(e[11]=t=>m.value=t),type:"text"},null,8,["modelValue"])):(n(),y(l(d),{key:1,style:{width:"100%"},id:"email",name:"email",variant:"filled",modelValue:m.value,"onUpdate:modelValue":e[12]||(e[12]=t=>m.value=t),type:"text"},null,8,["modelValue"])),a("label",Ce,[e[35]||(e[35]=i("E-Mail ")),l(s).query.register=="true"&&l(s).query.local=="false"?(n(),v("span",Ue,"(Google)")):q("",!0)])]),_:1}),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[o(l(d),{style:{width:"100%"},id:"password",min:"8",variant:"filled",modelValue:V.value,"onUpdate:modelValue":e[13]||(e[13]=t=>V.value=t),type:"password"},null,8,["modelValue"]),a("label",Be,[e[36]||(e[36]=i("Sandi Baru ")),l(s).query.register=="true"&&l(s).query.local=="false"?(n(),v("span",Ne,"(Bukan sandi Google ya)")):q("",!0)])]),_:1}),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[o(l(d),{style:{width:"100%"},id:"phone",name:"phone",modelValue:b.value,"onUpdate:modelValue":e[14]||(e[14]=t=>b.value=t),variant:"filled",type:"text"},null,8,["modelValue"]),e[37]||(e[37]=a("label",{for:"username"},"No. WhatsApp",-1))]),_:1}),o(l(f),{style:{"margin-bottom":"1rem"}},{default:u(()=>[o(l(d),{style:{width:"100%"},id:"dob",modelValue:w.value,"onUpdate:modelValue":e[15]||(e[15]=t=>w.value=t),name:"birth",variant:"filled",type:"date"},null,8,["modelValue"]),e[38]||(e[38]=a("label",{for:"dob"},"Tanggal Lahir",-1))]),_:1}),a("p",{style:{"font-size":"13px"}},[e[39]||(e[39]=i("Dengan mendaftar, Kamu menyetujui ")),a("b",null,[a("a",{style:{color:"orange","text-decoration":"none"},onClick:M,href:"javascript:;"},"Kebijakan Privasi")]),e[40]||(e[40]=i(" kami"))]),o(l(z)),a("div",$e,[o(l(x),{type:"button",label:"Lanjutkan!",onClick:P}),o(l(x),{type:"button",label:"Batal",severity:"secondary",onClick:E})]),a("div",{style:{display:"flex",width:"100%","border-top":"1px solid #ccc","margin-top":"0.5rem","padding-top":"10px"}},[a("a",{onClick:F,class:"googleregist",href:"javscript:;"},"Daftar / Masuk dengan Akun Google")])]),_:1},8,["visible"]))])]),o(l(Y),{visible:j.value,"onUpdate:visible":e[18]||(e[18]=t=>j.value=t),modal:"",header:$.value.title,style:{width:"25rem"}},{default:u(()=>[a("p",je,B($.value.content),1),a("div",Ge,[o(l(x),{type:"button",label:"Baiklah",severity:"secondary",onClick:e[17]||(e[17]=t=>j.value=!1)})])]),_:1},8,["visible","header"])],64)}}}),Oe=T({__name:"ClientLayout",setup(A){return(C,h)=>{const N=S("RouterView");return n(),v(D,null,[o(Le),o(N),o(de)],64)}}});export{Oe as default};
