import{V as I,r as s,i as S,g as u}from"./index-1yem63x6.js";import{u as A}from"./http-D-buUA56.js";const d=I("auth",()=>{const t=s(""),o=s(!1),a=s("");S(()=>{t.value=localStorage.getItem("authToken")||"",o.value=localStorage.getItem("isAuth")==="true"});const r=e=>{o.value=e,localStorage.setItem("isAuth",e?"true":"false")},c=e=>{t.value=e,localStorage.setItem("authToken",e)},n=e=>{a.value=e,localStorage.setItem("userId",e)},g=async()=>{const e={token:t.value};await A().httpPost("/auth/logout",e).then(l=>{t.value="",o.value=!1,a.value="",localStorage.removeItem("userAvatar"),localStorage.removeItem("userId"),localStorage.removeItem("authToken"),localStorage.setItem("isAuth","false")}).catch(l=>{console.log(l)})},m=u(()=>o.value),h=u(()=>t.value),v=u(()=>a.value);return{getAuth:m,getToken:h,setAuth:r,setToken:c,clearAuth:g,getUserId:v,setUserId:n}});export{d as u};
